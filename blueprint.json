{
	"about": {
		"title": "Mariadb",
		"explanation": "Mariadb Server"
	},
	"sysctls": {
	  "net.core.somaxconn": "1024"	 
	},
	"configuration": {
		"root_password": "^^random(32)^^",
		"max_allowed_packet": "4M",
		"event_scheduler": 1,
		"sql_mode": 1,
		"local_infile": 1,
		"innodb_buffer_pool_size": 134217728
	},
	"volumes": [
		{
		     "type": "volume|bind",
			"destination": "/var/lib/mysql/",
			"source": "data|/var/lib/engines/mariadb/"
		}
	],
	"bindings": [
		{
			"type": "embed",
			"runtime": "lxd",
			"target": {
				"repository": "https://github.com/v2Blueprints/enginesd_debian_base",
				"TYPE" : "FROM"
			}
		}
	],
	"images": [
		{
			"type": "docker",
			"image": "spaces/engines/base_arena/enginesd_debian_base"
		}
	],
	"system_packages": {
		"adds": [
			"default-mysql-server"
		]
	},
	"executions": [
		{
			"type": "docker",
			"CMD": "/usr/local/bin/start.sh"
		}
	],
	"binding_target": {
	  "hostname": "^^identifier^^",
		"database_name": "^^binder.identifier^^",
		"username": "^^binder.identifier^^",
		"password": "^^random(16)^^",
		"collation": "utf8_general_ci",
		"charset": "utf8",
		"super_user": false,
		"grant": false
	},
	"service_tasks": {
		"connect": [
			"/usr/local/bin/create_db_and_user.sh"
		],
		"connected": [
			"/usr/local/bin/update_db_and_user.sh"
		],
		"disconnect": [
			"/usr/local/bin/delete_db_and_user.sh"
		]
	}
}
